			 #include <STC12C5A.h>
#include <absacc.h>
#include <intrins.h>
#include <math.h>
#include <string.h>

 
#define uint unsigned int
#define uchar unsigned char
#define uchar unsigned char	
#define uint unsigned int
#define ulong unsigned long



void sendbyte(uchar a);
void init_timer0();

sbit lcd_wr=P3^2;
sbit lcd_rd=P3^3;
sbit lcd_cs=P3^4;
sbit lcd_a0=P3^6;

//sbit lcd_wr=P3^3;
//sbit lcd_rd=P3^4;
//sbit lcd_cs=P3^5;
//sbit lcd_a0=P3^6;
  
sbit    LED=P1^3;

extern 	bit  dis_all;
extern  bit  dis_fresh;

uint clrdat;



uchar code charA[ ]=  {0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x03,0x03,0x03,0x07,0x07,0x07,0x0E,
                       0x0E,0x0E,0x0C,0x1F,0x1F,0x1C,0x38,0x38,0x38,0x78,0x70,0x00,0x00,0x00,0x00,0x00,
                       0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xC0,0xC0,0xE0,0xE0,0x60,0x70,0x70,0x70,0x38,
                       0x38,0x38,0x18,0xFC,0xFC,0x1C,0x0E,0x0E,0x0E,0x0F,0x07,0x00,0x00,0x00,0x00,0x00};/*"A",0*/


uchar code charB[ ]=  {0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x3F,0x38,0x38,0x38,0x38,0x38,0x38,0x38,0x3F,
                       0x3F,0x38,0x38,0x38,0x38,0x38,0x38,0x38,0x38,0x3F,0x3F,0x00,0x00,0x00,0x00,0x00,
                       0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xF0,0x38,0x1C,0x1C,0x1C,0x1C,0x1C,0x38,0xF0,
                       0xF0,0x3C,0x1C,0x0E,0x0E,0x0E,0x0E,0x1E,0x3C,0xF8,0xE0,0x00,0x00,0x00,0x00,0x00};/*"B",0*/

uchar code charT[ ]=  {0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x3F,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
                       0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,
                       0x00,0x00,0x00,0x00,0x00,0x00,0xFE,0xFE,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,
                       0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00};/*"T",0*/

/*
uchar code hz1[ ]=    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x3F,0x00,0x00,0x00,
                       0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                       0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                       0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFE,0xFE,0x00,0x00,0x00,
                       0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};/*"一",0*/


/*
uchar code hz2[ ]=     {0x00,0x00,0x03,0x03,0x07,0x06,0x06,0x0C,0x0C,0x1C,0x1C,0x34,0x74,0x24,0x04,0x04,
                        0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x00,0x00,0x00,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,
                        0x0C,0x0D,0x3F,0xFC,0x86,0x06,0x06,0x07,0x03,0x03,0x01,0x01,0x00,0x00,0x00,0x00,
                        0x00,0x00,0x00,0x40,0xE0,0x70,0x20,0x00,0x08,0xFC,0xC0,0x00,0x00,0x00,0x00,0x00,
                        0x00,0x00,0x80,0xCE,0xEC,0x7C,0x3C,0x00};/*"代",0*/

uchar code hz1[ ]=	  {0x00,0x00,0x00,0x08,0x07,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,
                       0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x0C,0x0C,0x00,
					   0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x7F,0x00,0x00,0x00,0x1F,0x10,
					   0x10,0x10,0x10,0x10,0x10,0x1F,0x10,0x10,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
					   0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x06,0x0F,0xF0,0x00,0x00,0x08,0xFC,0x08,
                       0x08,0x08,0x08,0x08,0x08,0xF8,0x08,0x08,0x00,0x00,0x00,0x00,0x03,0x00,0x00,0x00,
					   0x00,0x00,0x00,0x10,0xF8,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,
					   0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0xF0,0xE0,0x40,0x00};/*"同",0*//* (32 X 32 , 宋体 )*/

uchar code hz2[ ]=	  {0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x3F,0x00,0x00,
                       0x00,0x00,0x00,0x00,0x01,0x01,0x03,0x06,0x0C,0x18,0x00,0x00,0x00,0x00,0x1F,0x00,
					   0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0x80,0x80,0x80,0x80,0x80,0x80,0xFF,0x01,0x00,
					   0x00,0x40,0xF0,0xC0,0x80,0x00,0x00,0x00,0x01,0x00,0x01,0x07,0x1C,0xE0,0x00,0x00,
					   0x00,0x00,0x80,0xC0,0x80,0x80,0x80,0xFF,0x80,0x80,0x80,0x80,0x80,0xFF,0x00,0xC0,
                       0x80,0x80,0x80,0x80,0x81,0x83,0x87,0x8E,0x18,0x70,0xC0,0x80,0x00,0x00,0x00,0x00,
					   0x00,0x00,0x00,0x00,0x00,0x40,0xE0,0xF0,0x00,0x00,0x00,0x00,0x18,0xFC,0x00,0x00,
					   0x00,0x20,0x70,0xE0,0xC0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};/*"步",0*//* (32 X 32 , 宋体 )*/

uchar code hz3[ ]=    {0x00,0x00,0x02,0x03,0x03,0x06,0x06,0x04,0x0F,0x0C,0x08,0x18,0x1F,0x23,0x43,0x43,
                       0x03,0x03,0x3F,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x00,0x00,0x00,
					   0x00,0x00,0x00,0x80,0x00,0x00,0x30,0x38,0xC7,0x00,0x00,0x20,0xF0,0x01,0x03,0x02,
					   0x04,0x38,0xF8,0x00,0x00,0x00,0x00,0x00,0x30,0x60,0xC0,0x80,0x03,0x06,0x18,0x00,
					   0x00,0x00,0x20,0x18,0x0C,0x0E,0x04,0x00,0xFF,0x00,0x60,0xE0,0xC0,0x80,0x00,0x40,
                       0x40,0x41,0x21,0x21,0x33,0x17,0x1E,0x0C,0x1E,0x37,0x63,0xC1,0x00,0x00,0x00,0x00,
					   0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x3C,0xC0,0x00,0xC0,0x70,0x38,0x18,0x58,0xE0,
					   0xC0,0xC0,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xE0,0x7E,0x38,0x00,0x00};/*"铰",0*//* (32 X 32 , 宋体 )*/


uchar code hz4[ ]=     {0x00,0x00,0x00,0x07,0x07,0x06,0x04,0x0C,0x0F,0x08,0x18,0x10,0x20,0x3F,0x42,0x02,
                        0x02,0x02,0x3F,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x03,0x07,0x02,0x00,0x00,0x00,
						0x00,0x00,0x00,0x00,0x00,0x08,0x24,0x76,0x87,0x03,0x02,0x40,0xE0,0x00,0x02,0x03,
						0x3F,0x22,0xF2,0x02,0x02,0x02,0x02,0x02,0x12,0x62,0x82,0x05,0x18,0x30,0x10,0x00,
						0x00,0x00,0x04,0x07,0x06,0x06,0x0C,0xFF,0x08,0x18,0x1A,0x13,0x33,0x33,0x63,0xFF,
                        0x03,0x03,0x03,0x03,0x03,0x7F,0x03,0x03,0x03,0x03,0x03,0x03,0xE0,0x3F,0x07,0x00,
						0x00,0x00,0x00,0x00,0x00,0x00,0x18,0xFC,0x00,0x00,0x00,0x80,0x00,0x00,0x18,0xE0,
						0x00,0x00,0x00,0x08,0x1C,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFC,0xF8,0x00};/*"链",0*//* (32 X 32 , 宋体 )*/



uchar code hz5[ ]=      {0x00,0x00,0x00,0x08,0x06,0x07,0x03,0x02,0x00,0x00,0x30,0x18,0x1C,0x0C,0x09,0x01,
                         0x01,0x01,0x02,0x02,0x06,0x6E,0x1C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x04,0x01,0x00,
						 0x00,0x00,0x00,0x00,0x3F,0x30,0x30,0x30,0x30,0x33,0x33,0xB3,0xB3,0xB3,0x33,0x33,
						 0x33,0x32,0x32,0x32,0x32,0x36,0x26,0x05,0x0C,0x08,0x18,0x30,0x60,0xC0,0x00,0x00,
						 0x00,0x00,0x00,0x00,0xF0,0x30,0x20,0x23,0x23,0x23,0x23,0x21,0x21,0x21,0x21,0x21,
                         0x31,0x31,0x31,0x31,0x33,0x23,0x03,0x03,0x80,0x40,0x60,0x30,0x31,0x10,0x00,0x00,
						 0x00,0x00,0x00,0x18,0x18,0x10,0x10,0x10,0x90,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
						 0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0xF0,0x70,0x20,0x00}; /*"测",0*/ /* (32 X 32 , 宋体 )*/


uchar code hz6[ ]=	     {0x00,0x00,0x00,0x00,0x08,0x0C,0x07,0x03,0x03,0x01,0x00,0x00,0x00,0x01,0x7F,0x03,
                          0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x01,0x00,0x00,
						  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x1F,0x00,0x00,0x00,0x80,0x00,
						  0x0F,0x00,0x00,0x00,0x00,0x00,0x08,0x10,0x30,0x61,0xDF,0x8E,0x80,0x00,0x00,0x00,
						  0x00,0x00,0x00,0x06,0x07,0x06,0x06,0x06,0x06,0x06,0xFF,0x06,0x06,0x06,0x06,0x1E,
                          0xE2,0x82,0x83,0x83,0x81,0x81,0x81,0x80,0x98,0xE0,0x80,0x00,0x00,0x00,0x00,0x00,
						  0x00,0x00,0x00,0x00,0xC0,0x60,0x30,0x30,0x08,0x1C,0xE0,0x00,0x00,0x00,0x00,0x00,
						  0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x84,0xC4,0x64,0x64,0x34,0x1C,0x0C,0x04,0x00}; /*"试",0*/ /* (32 X 32 , 宋体 )*/


uchar code hz7[ ]=	     {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x03,0x03,0x07,0x05,0x09,0x09,
                          0x11,0x21,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,
						  0x00,0x00,0x40,0x70,0xE0,0xC0,0xC0,0x80,0x80,0x04,0x02,0x82,0x82,0x01,0x01,0x01,
						  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x81,0x83,0x8C,0x98,0x60,0x00,
						  0x00,0x00,0x00,0x40,0x60,0x30,0x30,0x18,0x18,0x18,0x00,0x00,0x01,0x01,0x01,0x83,
                          0x83,0xC6,0x46,0x6C,0x2C,0x38,0x18,0x3C,0x66,0xC3,0x81,0x00,0x00,0x00,0x00,0x00,
						  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0xF0,0xE0,0xC0,0xC0,0x80,0x80,0x00,0x00,
						  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xF0,0x7E,0x38,0x00,0x00};/*"仪",0*//* (32 X 32 , 宋体 )*/





uchar code char1[ ]=    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x1F,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
                         0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x03,0x1F,0x00,0x00,0x00,0x00,0x00,
						 0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,
						 0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xE0,0xFC,0x00,0x00,0x00,0x00,0x00};/*"1",0*/ /* (16 X 32 , 宋体, 加粗 )*/


uchar code char2[ ]=     {0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x0C,0x18,0x30,0x30,0x38,0x38,0x00,0x00,0x00,
                          0x00,0x00,0x00,0x01,0x03,0x06,0x0C,0x18,0x30,0x3F,0x3F,0x00,0x00,0x00,0x00,0x00,
						  0x00,0x00,0x00,0x00,0x00,0x00,0xF0,0x3C,0x1C,0x0E,0x0E,0x0E,0x0E,0x0E,0x1C,0x18,
						  0x30,0x60,0xC0,0x80,0x00,0x06,0x06,0x06,0x0E,0xFC,0xFC,0x00,0x00,0x00,0x00,0x00};/*"2",0*//* (16 X 32 , 宋体, 加粗 )*/


uchar code char3[ ]=	 {0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x1C,0x38,0x38,0x38,0x38,0x00,0x00,0x00,0x03,
                          0x00,0x00,0x00,0x00,0x00,0x38,0x38,0x38,0x38,0x1C,0x07,0x00,0x00,0x00,0x00,0x00,
						  0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x78,0x38,0x1C,0x1C,0x1C,0x1C,0x38,0x70,0xE0,
						  0x78,0x1C,0x0C,0x0E,0x0E,0x0E,0x0E,0x0C,0x1C,0x38,0xE0,0x00,0x00,0x00,0x00,0x00};/*"3",0*/


uchar code char4[ ]=	 {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x03,0x06,0x0E,0x0C,0x1C,
                         0x18,0x30,0x70,0x7F,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                         0x00,0x00,0x00,0x00,0x00,0x00,0x70,0xF0,0xF0,0xF0,0xF0,0x70,0x70,0x70,0x70,0x70,
                         0x70,0x70,0x70,0xFE,0xFE,0x70,0x70,0x70,0x70,0x70,0x70,0x00,0x00,0x00,0x00,0x00};/*"4",0*/









void delayms(uchar ms)
     { uchar count,i;
       _nop_();
       _nop_();
       _nop_();
       for(i=ms;i>0;i--)
         { for(count=0;count<=58;count++) {;}
           _nop_();
         }
      }

	void WriteCommand(uchar Command)   //send command    
	{   
	    lcd_wr = 1;                   // init all control signal    
	    lcd_rd = 1;   
	    lcd_a0  = 1;                // for command    
	    //P2 = Command; 
		sendbyte(Command) ;  
	    lcd_cs = 0;                // enable the access    
	    _nop_();   
	    lcd_wr = 0;   
	    _nop_();   
	    _nop_();   
	    lcd_wr = 1;   
	    _nop_();   
	    lcd_cs = 1;                // disable the access    
	    delayms(1);   
	}   
	   
	   
	   
	void WriteData(uchar DData)    //send display data    
	{   
	    lcd_wr = 1;                // init all control signal    
	    lcd_rd = 1;   
	    lcd_a0  = 0;                // for diaplay data    
	    //P2 = DData; 
		sendbyte(DData);  
	    lcd_cs = 0;                // enable the access    
	    _nop_();   
	    lcd_wr = 0;   
	    _nop_();   
	    _nop_();   
	    lcd_wr = 1;   
	    _nop_();   
	    lcd_cs = 1;                // disable the access    
	    _nop_();   
	    _nop_();   
	}   


void LCD_Init(void)
{
WriteCommand(0x40);
   WriteData(0x30);
   WriteData(0x87);
   WriteData(0x07);
   WriteData(0x27); 
   WriteData(0x32);	
   WriteData(0xef);
   WriteData(0x28); 
   WriteData(0x00);

 WriteCommand(0x44);
   WriteData(0x00);
   WriteData(0x00);
   WriteData(0xf0);
   WriteData(0xb0); 
   WriteData(0x04);	
   WriteData(0xf0);
   WriteData(0x00); 
   WriteData(0x00);
   WriteData(0x00); 
   WriteData(0x00);

WriteCommand(0x5d);
   WriteData(0x07);
   WriteData(0x07);

WriteCommand(0x4f);

WriteCommand(0x5a);
   WriteData(0x01);

WriteCommand(0x5b);
   WriteData(0x05);

//WriteCommand(0x60);
   //WriteData(0x01);

WriteCommand(0x46);
   WriteData(0x00);
   WriteData(0x00);

WriteCommand(0x58);
   WriteData(0x00);

WriteCommand(0x59);
   WriteData(0x04);
}


void LCD_Clear(uchar dat)
{
 unsigned int i;
 unsigned int j;
 for(i=0;i<40;i++)
 {
 WriteCommand(0x46);
   WriteData(i);
   WriteData(0);
 WriteCommand(0x42);
 for(j=0;j<240;j++)
 {WriteData(dat);}
  }
}











void LCD_Write32x32Char(uchar addx, uchar addy, uchar code *DData)
{
 unsigned int i,j;
 unsigned int tmp=0;
 unsigned int k=0;
 for(i=addx;i<addx+4;i++)
 {
 WriteCommand(0x46);
   WriteData(i);
   WriteData(addy);
 WriteCommand(0x42);
 for(j=0+k*32;j<32+k*32;j++)
 {WriteData(DData[tmp+j]);}
 k++;
  }
}




void LCD_Write32x16Char(uchar addx, uchar addy, uchar code *DData)
{
 unsigned int i,j;
 unsigned int tmp=0;
 unsigned int k=0;
 for(i=addx;i<addx+2;i++)
 {
 WriteCommand(0x46);
   WriteData(i);
   WriteData(addy);
 WriteCommand(0x42);
 for(j=0+k*32;j<32+k*32;j++)
 {WriteData(DData[tmp+j]);}
 k++;
  }
}


 
void LCD_Write32x16Char1(uchar addx, uchar addy, uchar code *DData, uchar m)
{unsigned int i,j;
 unsigned int tmp=m*64;
 unsigned int k=0;
 for(i=addx;i<addx+2;i++)
 {
 WriteCommand(0x46);
   WriteData(i);
   WriteData(addy);
 WriteCommand(0x42);
 for(j=0+k*32;j<32+k*32;j++)
 {WriteData(DData[tmp+j]);}
 k++;
  }
}

 void init_timer1()
{
   P4SW=0xff;
   TMOD|=0X10;
   TH1=0x15;				//如果时间要完全精确，需用12MHZ的晶振
   TL1=0xA0;
   EA=1;
   ET1=1;
   TR1=1;
}


void   LCD_Char_display(void)
       {

   WriteCommand(0x46);
   WriteData(0x00);
   WriteData(0x00);

   LCD_Write32x32Char(107,1,hz1);
   LCD_Write32x32Char(112,1,hz2);
   LCD_Write32x32Char(117,1,hz3);
   LCD_Write32x32Char(122,1,hz4);
   LCD_Write32x32Char(127,1,hz5);
   LCD_Write32x32Char(132,1,hz6);
   LCD_Write32x32Char(137,1,hz7);


   LCD_Write32x16Char(115,6,charA); 
   LCD_Write32x16Char(135,6,charB);


   LCD_Write32x16Char(225,11,char1);
   LCD_Write32x16Char(33,18,char2);
   LCD_Write32x16Char(97,24,char3);
   LCD_Write32x16Char(161,30,char4);
   
		/*
        LCD_Write32x16Char1(232,11,numb,timer1a.sec/10);
        LCD_Write32x16Char1(234,11,numb,timer1a.sec%10);
        LCD_Write32x16Char1(236,11,numb,timer1a.hsec/10);
        //LCD_Write16x8Char(48,13,dot);
		LCD_Write32x16Char1(238,11,numb,10);
        LCD_Write32x16Char1(240,11,numb,timer1a.hsec%10);
	  	 
        LCD_Write32x16Char1(250,11,numb,timer1b.sec/10);
        LCD_Write32x16Char1(252,11,numb,timer1b.sec%10);
        LCD_Write32x16Char1(254,11,numb,timer1b.hsec/10);
        //LCD_Write16x8Char(63,13,dot);
		LCD_Write32x16Char1(0,12,numb,10);
        LCD_Write32x16Char1(2,12,numb,timer1b.hsec%10);


		LCD_Write32x16Char1(40,18,numb,timer2a.sec/10);
        LCD_Write32x16Char1(42,18,numb,timer2a.sec%10);
        LCD_Write32x16Char1(44,18,numb,timer2a.hsec/10);
        //LCD_Write16x8Char(136,20,dot);
		LCD_Write32x16Char1(46,18,numb,10);
        LCD_Write32x16Char1(48,18,numb,timer2a.hsec%10);
		
		LCD_Write32x16Char1(58,18,numb,timer2b.sec/10);
        LCD_Write32x16Char1(60,18,numb,timer2b.sec%10);
        LCD_Write32x16Char1(62,18,numb,timer2b.hsec/10);
        //LCD_Write16x8Char(151,20,dot);
		 LCD_Write32x16Char1(64,18,numb,10);
        LCD_Write32x16Char1(66,18,numb,timer2b.hsec%10);



	    LCD_Write32x16Char1(104,24,numb,timer3a.sec/10);
        LCD_Write32x16Char1(106,24,numb,timer3a.sec%10);
        LCD_Write32x16Char1(108,24,numb,timer3a.hsec/10);
        //LCD_Write16x8Char(8,28,dot);
		LCD_Write32x16Char1(110,24,numb,10);
        LCD_Write32x16Char1(112,24,numb,timer3a.hsec%10);
		
		LCD_Write32x16Char1(122,24,numb,timer3b.sec/10);
        LCD_Write32x16Char1(124,24,numb,timer3b.sec%10);
        LCD_Write32x16Char1(126,24,numb,timer3b.hsec/10);
		LCD_Write32x16Char1(128,24,numb,10);
        LCD_Write32x16Char1(130,24,numb,timer3b.hsec%10);


		LCD_Write32x16Char1(168,30,numb,timer4a.sec/10);
        LCD_Write32x16Char1(170,30,numb,timer4a.sec%10);
        LCD_Write32x16Char1(172,30,numb,timer4a.hsec/10);
        //LCD_Write16x8Char(8,28,dot);
		LCD_Write32x16Char1(174,30,numb,10);
        LCD_Write32x16Char1(176,30,numb,timer4a.hsec%10);

		LCD_Write32x16Char1(186,30,numb,timer4b.sec/10);
        LCD_Write32x16Char1(188,30,numb,timer4b.sec%10);
        LCD_Write32x16Char1(190,30,numb,timer4b.hsec/10);
		LCD_Write32x16Char1(192,30,numb,10);
        LCD_Write32x16Char1(194,30,numb,timer4b.hsec%10);
		*/

   WriteCommand(0x46);
   WriteData(0x10);
   WriteData(0x26);	
   
	  
	  }

void timer1() interrupt 3 using 2
{
/******************刷新显示*****************************/  
   CLK_DIV=0X00;
   TH1=0x15;				//如果时间要完全精确，需用12MHZ的晶振
   TL1=0xA0;
/*******************如果全显示标志为1，所有显示刷新并清屏***********/
   if(dis_all)
   {
   TR1=0;
   ET1=0;
   LCD_Clear(0x00);
   LCD_Clear(0x00);
   LCD_Char_display();
   LCD_Char_display();
   dis_all=0;
   dis_fresh=1;   
   TR0=1;
   }

   
  } 
   
